{"ast":null,"code":"var _jsxFileName = \"/Users/FiraBD/ReactProjects/todo-list-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport Todos from './components/Todos';\nimport Todos2 from './components/Todos2';\nimport CreateTodo from './components/CreateTodo';\nimport { todos as todosData } from './data/data';\nimport { filteringData } from './data/data';\nimport './css/App.css';\nimport Filter from './components/Filter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const originalTodos = useRef([]);\n  const [todos, setTodos] = useState([]);\n  const [filterData, setFilterData] = useState(filteringData);\n  useEffect(() => {\n    const ntodos = JSON.parse(localStorage.getItem('todos')) || todosData;\n    setTodos(ntodos);\n    originalTodos.current = ntodos;\n  }, []);\n\n  // useEffect(() => {\n  // \tlet count = 1;\n  // \tif (count === 1 && index !== 0) {\n  // \t\tconst ntodos = originalTodos.filter(todo => todo.status === nd[index].value);\n  // \t\tsetTodos(ntodos);\n  // \t} else {\n  // \t\tsetTodos(originalTodos);\n  // \t}\n  // \tcount++;\n  // }, [todos]);\n\n  const addTodo = todo => {\n    setTodos([todo, ...todos]);\n    saveTodos([todo, ...todos]);\n  };\n  const updateTodo = ntodos => {\n    saveTodos(ntodos);\n    setTodos(ntodos);\n  };\n  const saveTodos = ntodos => {\n    localStorage.setItem('todos', JSON.stringify(ntodos));\n  };\n  const filterHandler = (e, index) => {\n    const nd = filterData.map(d => ({\n      ...d,\n      selected: false\n    }));\n    nd[index] = {\n      ...nd[index],\n      selected: true\n    };\n    console.log(nd);\n    if (index !== 0) {\n      const ntodos = originalTodos.current.filter(todo => todo.status === nd[index].value);\n      setTodos(ntodos);\n    } else {\n      setTodos(originalTodos.current);\n    }\n    setFilterData(nd);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Filter, {\n      data: filterData,\n      clickHandler: filterHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Todos, {\n      todos: todos,\n      updateTodo: updateTodo,\n      selected: filterData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(CreateTodo, {\n      addTodo: addTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n};\n_s(App, \"/Io8bIdKWuAnqmOF0u/3JOxrXvI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Todos","Todos2","CreateTodo","todos","todosData","filteringData","Filter","jsxDEV","_jsxDEV","App","_s","originalTodos","setTodos","filterData","setFilterData","ntodos","JSON","parse","localStorage","getItem","current","addTodo","todo","saveTodos","updateTodo","setItem","stringify","filterHandler","e","index","nd","map","d","selected","console","log","filter","status","value","className","children","data","clickHandler","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/FiraBD/ReactProjects/todo-list-app/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport Todos from './components/Todos';\nimport Todos2 from './components/Todos2';\nimport CreateTodo from './components/CreateTodo';\n\nimport { todos as todosData } from './data/data';\nimport { filteringData } from './data/data';\n\nimport './css/App.css';\nimport Filter from './components/Filter';\n\nconst App = () => {\n\tconst originalTodos = useRef([]);\n\tconst [todos, setTodos] = useState([]);\n\tconst [filterData, setFilterData] = useState(filteringData);\n\n\tuseEffect(() => {\n\t\tconst ntodos = JSON.parse(localStorage.getItem('todos')) || todosData;\n\t\tsetTodos(ntodos);\n\t\toriginalTodos.current = ntodos;\n\t}, [])\n\n\t// useEffect(() => {\n\t// \tlet count = 1;\n\t// \tif (count === 1 && index !== 0) {\n\t// \t\tconst ntodos = originalTodos.filter(todo => todo.status === nd[index].value);\n\t// \t\tsetTodos(ntodos);\n\t// \t} else {\n\t// \t\tsetTodos(originalTodos);\n\t// \t}\n\t// \tcount++;\n\t// }, [todos]);\n\n\tconst addTodo = (todo) => {\n\t\tsetTodos([todo, ...todos]);\n\t\tsaveTodos([todo, ...todos]);\n\t};\n\n\tconst updateTodo = (ntodos) => {\n\t\tsaveTodos(ntodos)\n\t\tsetTodos(ntodos);\n\t};\n\tconst saveTodos = (ntodos) => {\n\t\tlocalStorage.setItem('todos', JSON.stringify(ntodos));\n\t};\n\tconst filterHandler = (e, index) => {\n\t\tconst nd = filterData.map(d => ({ ...d, selected: false }));\n\t\tnd[index] = { ...nd[index], selected: true };\n\t\tconsole.log(nd);\n\t\tif (index !== 0) {\n\t\t\tconst ntodos = originalTodos.current.filter(todo => todo.status === nd[index].value);\n\t\t\tsetTodos(ntodos);\n\t\t} else {\n\t\t\tsetTodos(originalTodos.current);\n\t\t}\n\t\tsetFilterData(nd);\n\n\t};\n\n\treturn (\n\t\t<div className='App'>\n\t\t\t<Filter data={filterData} clickHandler={filterHandler} />\n\t\t\t<Todos todos={todos} updateTodo={updateTodo} selected={filterData} />\n\t\t\t{/* <Todos2 todos={todos} updateTodo={updateTodo} /> */}\n\t\t\t<CreateTodo addTodo={addTodo} />\n\t\t</div>\n\t);\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}